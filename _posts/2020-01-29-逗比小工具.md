---
layout: post
title: 逗比小工具
description: ""
keywords: ""
---

偶然间发现[doubi](https://github.com/ToyoDAdoubiBackup/doubi)项目好牛皮，虽然是一个逗比写的各种逗比脚本，但脚本真鸡儿好用~

效仿着也记录一下自己写的逗比小工具~

## 1、fileMonitor

基于Golang的文件监控小工具，使用[fsnotify](https://github.com/fsnotify/fsnotify)包，在**代码审计**或**CTF-AWD**中，无需依赖直接运行，使用十分方便。

代码地址：[https://github.com/SewellDinG/fileMonitor](https://github.com/SewellDinG/fileMonitor)

```
[Sewell]: ~/Documents/fileMonitor
➜  ./fileMonitor_mac -h
Usage of ./fileMonitor_mac:
  -path string
    	Input Your fileMonitorPath (default "./")

[Sewell]: ~/Documents/fileMonitor
➜  ./fileMonitor_mac ./
* 2020-01-17 21:36:08 Monitor Dir: /Users/sewellding/Documents/fileMonitor
  |-- 2020-01-17 21:36:54 Create: /Users/sewellding/Documents/fileMonitor/test
* 2020-01-17 21:36:54 Add Dir: /Users/sewellding/Documents/fileMonitor/test
  |-- 2020-01-17 21:37:02 Create: /Users/sewellding/Documents/fileMonitor/test/test.go
  |-- 2020-01-17 21:37:02 Create: /Users/sewellding/Documents/fileMonitor/test/test.go~
  |-- 2020-01-17 21:37:02 Write: /Users/sewellding/Documents/fileMonitor/test/test.go
  |-- 2020-01-17 21:37:02 Remove: /Users/sewellding/Documents/fileMonitor/test/test.go~
  |-- 2020-01-17 21:38:14 Remove: /Users/sewellding/Documents/fileMonitor/test/test.go
  |-- 2020-01-17 21:38:14 Remove: /Users/sewellding/Documents/fileMonitor/test
```

## 2、Aria2

下载境外的大型资源，往往由于自身带宽不够、代理速度慢等因素，导致资源下载速度无法忍受，🐢🐢🐢。

我的方法是：**① 利用Google GCP主机的大带宽优势，使用Aria2去下载资源；② 使用FileZilla的通用代理功能登陆VPS，利用SFTP拉回资源。**

[Aria2](https://github.com/aria2/aria2)是一款自由、跨平台命令行界面的下载管理器，支持的下载协议有：HTTP、HTTPS、FTP、SFTP、Bittorrent和Metalink，Aria2可以使用JSON-RPC和XML-RPC进行HTTP远程下载控制。

使用[doubi](https://github.com/ToyoDAdoubiBackup/doubi)项目的自动化编译脚本来安装Aria2：

```
sudo -s 获取root权限
wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/aria2.sh && chmod +x aria2.sh && bash aria2.sh
```

傻瓜式安装很方便，输出很清楚，也确实很逗比~

```
Aria2 一键安装管理脚本 [v1.1.10]
  -- Toyo | doub.io/shell-jc4 --
  0. 升级脚本
————————————
  1. 安装 Aria2
  2. 更新 Aria2
  3. 卸载 Aria2
————————————
  4. 启动 Aria2
  5. 停止 Aria2
  6. 重启 Aria2
————————————
  7. 修改 配置文件
  8. 查看 配置信息
  9. 查看 日志信息
 10. 配置 自动更新 BT-Tracker服务器
————————————
 当前状态: 已安装 但 未启动
 请输入数字 [0-10]: 4
 
 Aria2 简单配置信息：
 地址   : xxx.xxx.xxx.xxx
 端口   : 6800
 密码   : 38b754xxxxxxxxxfc41b0d4
 目录   : /usr/local/caddy/www/aria2/Download
```

我使用的Aria2前端是[AriaNg](https://github.com/mayswind/AriaNg)项目，仅有一个html文件。

将其下载到VPS上，使用Python快速起一个HTTP服务即可访问，随用随起，用完就停：`python -m http.server 8888`

![doubi_1](/assets/images/2020-01-29/doubi_1.png)

测试：下载 Kali2020.1 iso镜像

Google GCP下载速度可以达到70MB/s，大B，🐂！

FileZilla使用GCP的ss代理，拉回本地速度达到3+MB/s，也是大B，🐂！

本机单纯使用迅雷下载速度仅仅200Kb/s上下，Aria2下载速度不足百。